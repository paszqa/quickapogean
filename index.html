<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Apogean - some knowledge base for Apogea</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="top-menu">
        <div><img src="quickapogean.png"></div><div class="marquee"><marquee scrollamount="3" width="300px">browse it like it's 2003</marquee></div><div></div>
    </div>
    <div id="sidebar">
        <h3>General</h3>
        <div class="menu-item" onclick="openContent('welcome.html')">
            <img src="Images/haticon.png" alt="Welcome">
            <span>Welcome</span>
        </div></a>
        <div class="menu-item" onclick="openContent('play.html')">
            <img src="Images/mageicon.png" alt="Play Apogea">
            <span>Play Apogea</span>
        </div>
        
        <h3>Tools</h3>
            <div class="menu-item" onclick="openContent('calc.html')">
                <img src="Images/char2icon.png" alt="Calc">
                <span>Character Calculator New</span>
            </div>
        <a href="https://paszqa.github.io/apogea-traits/?skill0=1">
            <div class="menu-item" onclick="openContent('')">
                <img src="Images/traiticon.png" alt="Traits">
                <span>Trait Calculator</span>
            </div>
        </a>
        <div class="menu-item" onclick="openContent('exptable.html')">
            <img src="Images/tableicon.png" alt="Exp">
            <span>Experience Table</span>
        </div>
        
        <h3>Guides</h3>
        <div class="menu-item" onclick="openContent('guide1.html')">
            <img src="Images/mapicon.png" alt="1">
            <span>New Player Guide I</span>
        </div>
        <div class="menu-item" onclick="openContent('guide2.html')">
            <img src="Images/mapicon.png" alt="2">
            <span>New Player Guide II</span>
        </div>
        <div class="menu-item" onclick="openContent('guide3.html')">
            <img src="Images/mapicon.png" alt="3">
            <span>New Player Guide III</span>
        </div>

        <h3>Lists</h3>
        <div class="menu-item" onclick="openContent('spells.html', 'all', 'all')">
            <img src="Images/listicon.png" alt="Items">
            <span>Spells</span>
        </div>
        <div class="menu-item" onclick="openContent('premium.html', 'prem', 'prem')">
            <img src="Images/listicon.png" alt="Items">
            <span>Premium / Prices</span>
        </div>
        
        <h3>Items</h3>
        <div class="menu-item" onclick="openContent('items.html', 'sword','sword')">
            <img src="Items/Broadsword.png" alt="Swords">
            <span>Swords</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'dagger', 'dagger')">
            <img src="Items/SilverDagger.png" alt="Daggers">
            <span>Daggers</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'bow', 'bow')">
            <img src="Items/Longbow.png" alt="Bows">
            <span>Bows</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'staff', 'staff')">
            <img src="Items/WoodenStaff.png" alt="Staves & Wands">
            <span>Staves & Wands</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'shield', 'shield')">
            <img src="Items/TowerShield.png" alt="Shields">
            <span>Shields</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'orb', 'orb')">
            <img src="Items/Orb.png" alt="Orbs">
            <span>Orbs</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'helmet', 'mask')">
            <img src="Items/Spangenhelm.png" alt=">Helmets & Masks">
            <span>Helmets & Masks</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'chest', 'chest')">
            <img src="Items/PlatedCuirass.png" alt="Armors">
            <span>Armors</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'legs', 'legs')">
            <img src="Items/BrassLegs.png" alt="Legs">
            <span>Legs</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'boots', 'boots')">
            <img src="Items/LeatherBoots.png" alt="Boots">
            <span>Boots</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'neck', 'neck')">
            <img src="Items/SilverAmulet.png" alt="Neck items">
            <span>Neck items</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', 'ring', 'ring')">
            <img src="Items/GoldenRing.png" alt="Rings">
            <span>Rings</span>
        </div>
        <div class="menu-item" onclick="openContent('items.html', '', '')">
            <img src="Images/exclamationicon.png" alt="All Items">
            <span>All Items</span>
        </div>
    </div>
    <div id="content">
        <iframe id="content-frame" src="about:blank" frameborder="0" style="width: 100%; height: 100vh;"></iframe>
    </div>

    <script>
        function openContent(page, filter1 = '', filter2 = '') {
            const iframe = document.getElementById('content-frame');
            const currentParams = new URLSearchParams(window.location.search);
            const filterParams = new URLSearchParams();

            if (filter1) filterParams.set('filter1', filter1);
            if (filter2) filterParams.set('filter2', filter2);

            // Preserve calc.html-specific parameters
            if (page === 'calc.html') {
                ['level', 'available', 'class', 'items', 'points', 'traits'].forEach(param => {
                    if (currentParams.has(param)) {
                        filterParams.set(param, currentParams.get(param));
                    }
                });
            }

            iframe.src = `${page}?${filterParams.toString()}`;
            window.history.pushState({}, '', `?page=${page}&${filterParams.toString()}`);
        }

        function getParameterByName(name) {
            const url = new URL(window.location.href);
            return url.searchParams.get(name);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const page = getParameterByName('page') || 'welcome.html';
            const filter1 = getParameterByName('filter1') || getParameterByName('filter') || '';
            const filter2 = getParameterByName('filter2') || '';
            openContent(page, filter1, filter2);
        });
    </script>
</body>
</html>
